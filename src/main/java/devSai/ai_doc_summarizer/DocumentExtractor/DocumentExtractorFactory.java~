package devSai.ai_doc_summarizer.DocumentExtractor;

import org.springframework.boot.autoconfigure.AutoConfiguration;
import org.springframework.context.annotation.Bean;

import javax.print.DocFlavor;
import java.io.InputStream;
@AutoConfiguration
public class DocumentExtractorFactory {
    @Bean
    public Bean createBean(){
        return new DocumentExtractorFactory().createBean();
    }
    public DocumentExtractor getDocumentExtractor(String fileName) {
        String fileExtension = fileName.toLowerCase();
        if(fileExtension.endsWith(".pdf")) {
            return new PDFExtractor();
        }
        else if(fileExtension.endsWith(".doc") || fileExtension.endsWith(".docx")) {
            return new DocExtractor();
        }
        else throw new IllegalArgumentException("Unsupported file type: " + fileExtension);

    }
}
